(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(4),i=a.n(n),o=a(2),r=a(5),d=a(0);function l(e){var t=e.updateDegreeIndex,a=e.items,s=c.a.useRef(),n=c.a.useState(0),i=Object(o.a)(n,2),r=i[0],l=i[1];return Object(d.jsxs)("ul",{ref:s,className:"degree-block",children:[Object(d.jsx)("li",{className:"degree-ico",children:"\xba"}),a.map((function(e,a){return Object(d.jsx)("li",{onClick:function(){return function(e){l(e),t(e)}(a)},className:r===a?"degree-type active":"degree-type",children:e},"".concat(e.type,"_").concat(a))}))]})}var u=a.p+"static/media/location.fcd4f21d.svg";var m=function(e){var t=e.updateCityData,a=e.cici,s=e.updatePositionData,n=c.a.useRef(),i=c.a.useRef(),r=c.a.useState(a),l=Object(o.a)(r,2),m=l[0],h=l[1],b=c.a.useState(""),f=Object(o.a)(b,2),j=f[0],y=f[1],p=c.a.useState(!1),v=Object(o.a)(p,2),w=v[0],O=v[1],x=function(e){s(e),y(e)};return c.a.useLayoutEffect((function(){"undefined"!==typeof j.coords&&fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(j.coords.latitude,"&lon=").concat(j.coords.longitude,"&format=json&addressdetails=[0|1]")).then((function(e){return e.json()})).then((function(e){h(e.address.city)}))}),[j.coords]),c.a.useEffect((function(){!0===w?n.current.removeAttribute("disabled"):!1===w&&n.current.setAttribute("disabled","disabled")}),[w]),Object(d.jsxs)("div",{className:"sity-block",children:[Object(d.jsx)("input",{value:m,placeholder:"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434 \u0437\u0434\u0435\u0441\u044c...",type:"text",onChange:function(e){h(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(t(n.current.value),O(!w))},ref:n,disabled:!0,className:"sity-name",itemID:"sity-name"}),Object(d.jsxs)("div",{className:"change-sity-block",children:[Object(d.jsx)("div",{ref:i,onClick:function(){O(!w)},className:"change-sity",children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(d.jsx)("img",{className:"position-logo",src:u,alt:""}),Object(d.jsx)("div",{onClick:function(){navigator.geolocation.getCurrentPosition(x)},className:"your-position",children:"\u041c\u043e\u0451 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})]})]})},h=a.p+"static/media/sun.8b3d35b0.svg",b=a.p+"static/media/cloudy.1405bd44.svg",f=a.p+"static/media/clouds.2fc687ea.svg",j=a.p+"static/media/partly_cloudy.56d5385e.svg",y=(a.p,a.p,a.p+"static/media/snow.3ba6fe01.svg"),p=a.p+"static/media/fog.2b3d240d.svg";function v(e){var t=e.degreeIndex,a=e.weatherInfo,s=c.a.useState(""),n=Object(o.a)(s,2),i=n[0],r=n[1],l=c.a.useState(""),u=Object(o.a)(l,2),m=u[0],v=u[1];return c.a.useLayoutEffect((function(){if(console.log(a),"undefined"!==typeof a.weather)switch(a.weather[0].id){case 600:case 601:case 602:case 611:case 612:case 613:case 615:case 616:case 620:case 621:case 622:v(y),document.querySelector("body").classList.add("snow"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","fog");break;case 701:case 711:case 721:case 731:case 741:case 751:case 761:case 762:case 771:case 781:v(p),document.querySelector("body").classList.add("fog"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","snow");break;case 800:v(h),document.querySelector("body").classList.add("sunny"),document.querySelector("body").classList.remove("snow","cloudy","rain","storm","fog");break;case 801:v(j),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog");break;case 802:v(b),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog");break;case 804:v(f),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog");break;default:document.querySelector("body").classList.add("sunny"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog"),v(h)}"undefined"!==typeof a.weather&&r(a.main.temp),1===t?r(1.8*a.main.temp+32):0===t&&r(a.main.temp)}),[r,t,a]),Object(d.jsx)("div",{children:"undefined"!==typeof a.weather?Object(d.jsxs)("div",{className:"weather-block-wrapper",children:[Object(d.jsxs)("div",{className:"weather-block",children:[Object(d.jsx)("div",{className:"weather-ico",children:Object(d.jsx)("img",{src:m,alt:"weather_ico"})}),Object(d.jsxs)("div",{className:"weather-number",children:[Math.floor(i),"\xba"]})]}),Object(d.jsx)("div",{className:"weather-description",children:a.weather[0].description}),Object(d.jsxs)("div",{className:"weather-feels-like",children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Math.floor(a.main.feels_like),"\xba"]})]}):""})}function w(e){var t=e.weatherInfo;if("undefined"!=typeof t.weather)var a=["\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043d\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439, \u044e\u0433\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439, \u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439, \u044e\u0433\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439 \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439, \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439, \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439"],s=Math.floor(t.wind.deg/22.5+.5)%16;return Object(d.jsx)("div",{className:"weather-details",children:"undefined"!=typeof t.weather?Object(d.jsxs)("div",{className:"weather-details",children:[Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u0435\u0442\u0435\u0440"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.wind.speed," \u043c/c, ",a[s]]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.main.pressure," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.main.humidity,"%"]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[Math.floor(101*Math.random()+1),"%"]})]})]}):""})}var O=function(){var e=c.a.useState(""),t=Object(o.a)(e,2),a=t[0],s=t[1],n=c.a.useState("\u041e\u043c\u0441\u043a"),i=Object(o.a)(n,2),u=i[0],h=i[1],b=c.a.useState(""),f=Object(o.a)(b,2),j=f[0],y=f[1],p=c.a.useState(""),O=Object(o.a)(p,2),x=O[0],g=O[1],N=Object(r.transliterate)(u);return c.a.useLayoutEffect((function(){"undefined"!==typeof j.coords&&fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(j.coords.latitude,"&lon=").concat(j.coords.longitude,"&format=json&addressdetails=[0|1]")).then((function(e){return e.json()})).then((function(e){h(e.address.city),console.log(e)}))}),[j.coords]),c.a.useEffect((function(){fetch("".concat("http://api.openweathermap.org/data/2.5/","weather?q=").concat(N,"&appid=").concat("12cefab9977763ddc5f50d7e363a40f8","&lang=ru&units=metric")).then((function(e){return e.json()})).then((function(e){s(e)}))}),[N]),Object(d.jsxs)("div",{className:"main-wrapper",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)(m,{updatePositionData:function(e){y(e)},cici:u,updateCityData:function(e){h(e)},cityChange:h}),Object(d.jsx)(l,{updateDegreeIndex:function(e){g(e)},items:["C","F"]})]}),Object(d.jsx)(v,{degreeIndex:x,weatherInfo:a}),Object(d.jsx)(w,{weatherInfo:a})]})};a(12);i.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.0507a095.chunk.js.map