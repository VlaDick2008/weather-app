(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),r=s(4),o=s.n(r),n=s(2),i=s(5),d=s(0);function l(e){var t=e.updateDegreeIndex,s=e.items,a=c.a.useRef(),r=c.a.useState(0),o=Object(n.a)(r,2),i=o[0],l=o[1];return Object(d.jsxs)("ul",{ref:a,className:"degree-block",children:[Object(d.jsx)("li",{className:"degree-ico",children:"\xba"}),s.map((function(e,s){return Object(d.jsx)("li",{onClick:function(){return function(e){l(e),t(e)}(s)},className:i===s?"degree-type active":"degree-type",children:e},"".concat(e.type,"_").concat(s))}))]})}var u=s.p+"static/media/location.fcd4f21d.svg";var m=function(e){var t=e.updateCityData,s=e.cici,a=e.updatePositionData,r=c.a.useRef(),o=c.a.useRef(),i=c.a.useState(s),l=Object(n.a)(i,2),m=l[0],b=l[1],y=c.a.useState(""),f=Object(n.a)(y,2),h=f[0],j=f[1],p=c.a.useState(!1),v=Object(n.a)(p,2),w=v[0],g=v[1],O=function(e){a(e),j(e)};return c.a.useLayoutEffect((function(){"undefined"!==typeof h.coords&&fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(h.coords.latitude,"&lon=").concat(h.coords.longitude,"&format=json&addressdetails=[0|1]")).then((function(e){return e.json()})).then((function(e){b(e.address.city)}))}),[h.coords]),c.a.useEffect((function(){!0===w?r.current.removeAttribute("disabled"):!1===w&&r.current.setAttribute("disabled","disabled")}),[w]),Object(d.jsxs)("div",{className:"sity-block",children:[Object(d.jsx)("input",{value:m,placeholder:"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434 \u0437\u0434\u0435\u0441\u044c...",type:"text",onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(t(r.current.value),g(!w))},ref:r,disabled:!0,className:"sity-name",itemID:"sity-name"}),Object(d.jsxs)("div",{className:"change-sity-block",children:[Object(d.jsx)("div",{ref:o,onClick:function(){g(!w)},className:"change-sity",children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(d.jsx)("img",{className:"position-logo",src:u,alt:""}),Object(d.jsx)("div",{onClick:function(){navigator.geolocation.getCurrentPosition(O),console.log(h)},className:"your-position",children:"\u041c\u043e\u0451 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})]})]})},b=s.p+"static/media/sun.8b3d35b0.svg",y=s.p+"static/media/cloudy.1405bd44.svg",f=s.p+"static/media/clouds.2fc687ea.svg",h=s.p+"static/media/partly_cloudy.56d5385e.svg",j=s.p+"static/media/rain.123e0eeb.svg",p=s.p+"static/media/strom.4846298d.svg",v=s.p+"static/media/snow.3ba6fe01.svg",w=s.p+"static/media/fog.2b3d240d.svg",g=s.p+"static/media/drizzle.cf2b1600.svg";function O(e){var t=e.degreeIndex,s=e.weatherInfo,a=c.a.useState(""),r=Object(n.a)(a,2),o=r[0],i=r[1],l=c.a.useState(""),u=Object(n.a)(l,2),m=u[0],O=u[1];return c.a.useLayoutEffect((function(){if("undefined"!==typeof s.weather)switch(s.weather[0].id){case 200:case 201:case 202:case 210:case 211:case 212:case 221:case 230:case 231:case 232:O(p),document.querySelector("body").classList.add("storm"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","fog","drizzle");break;case 300:case 301:case 302:case 310:case 311:case 312:case 313:case 314:case 321:O(g),document.querySelector("body").classList.add("drizzle"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","fog");break;case 500:case 501:case 502:O(g),document.querySelector("body").classList.add("drizzle"),document.querySelector("body").classList.remove("sunny","cloudy","storm","fog","drizzle");break;case 511:case 600:case 601:case 602:case 611:case 612:case 613:case 615:case 616:case 620:case 621:case 622:O(v),document.querySelector("body").classList.add("snow"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","fog","drizzle");break;case 503:case 504:case 520:case 521:case 522:case 531:O(j),document.querySelector("body").classList.add("rain"),document.querySelector("body").classList.remove("sunny","cloudy","storm","fog","drizzle");break;case 701:case 711:case 721:case 731:case 741:case 751:case 761:case 762:case 771:case 781:O(w),document.querySelector("body").classList.add("fog"),document.querySelector("body").classList.remove("sunny","cloudy","rain","storm","snow","drizzle");break;case 800:O(b),document.querySelector("body").classList.add("sunny"),document.querySelector("body").classList.remove("snow","cloudy","rain","storm","fog","drizzle");break;case 801:O(h),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog","drizzle");break;case 802:O(y),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog","drizzle");break;case 803:case 804:O(f),document.querySelector("body").classList.add("cloudy"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog","drizzle");break;default:document.querySelector("body").classList.add("sunny"),document.querySelector("body").classList.remove("sunny","snow","rain","storm","fog","drizzle"),O(b)}"undefined"!==typeof s.weather&&(i(s.main.temp),1===t?i(1.8*s.main.temp+32):0===t&&i(s.main.temp))}),[i,t,s]),Object(d.jsx)("div",{children:"undefined"!==typeof s.weather?Object(d.jsxs)("div",{className:"weather-block-wrapper",children:[Object(d.jsxs)("div",{className:"weather-block",children:[Object(d.jsx)("div",{className:"weather-ico",children:Object(d.jsx)("img",{src:m,alt:"weather_ico"})}),Object(d.jsxs)("div",{className:"weather-number",children:[Math.floor(o),"\xba"]})]}),Object(d.jsx)("div",{className:"weather-description",children:s.weather[0].description}),Object(d.jsxs)("div",{className:"weather-feels-like",children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Math.floor(s.main.feels_like),"\xba"]})]}):""})}function x(e){var t=e.weatherInfo;if("undefined"!=typeof t.weather)var s=["\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043d\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439, \u044e\u0433\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439, \u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439, \u044e\u0433\u043e-\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439","\u044e\u0436\u043d\u044b\u0439 \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439, \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439, \u044e\u0433\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439","\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0441\u0435\u0432\u0435\u0440\u043e-\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439"],a=Math.floor(t.wind.deg/22.5+.5)%16;return Object(d.jsx)("div",{className:"weather-details",children:"undefined"!=typeof t.weather?Object(d.jsxs)("div",{className:"weather-details",children:[Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u0435\u0442\u0435\u0440"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.wind.speed," \u043c/c, ",s[a]]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.main.pressure," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[t.main.humidity,"%"]})]}),Object(d.jsxs)("div",{className:"weather-details-block",children:[Object(d.jsx)("div",{className:"weather-details-title",children:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f"}),Object(d.jsxs)("div",{className:"weather-details-text",children:[Math.floor(101*Math.random()+1),"%"]})]})]}):""})}var S=function(){var e=c.a.useState(""),t=Object(n.a)(e,2),s=t[0],a=t[1],r=c.a.useState("\u041e\u043c\u0441\u043a"),o=Object(n.a)(r,2),u=o[0],b=o[1],y=c.a.useState(""),f=Object(n.a)(y,2),h=f[0],j=f[1],p=c.a.useState(""),v=Object(n.a)(p,2),w=v[0],g=v[1],S=Object(i.transliterate)(u);return c.a.useLayoutEffect((function(){"undefined"!==typeof h.coords&&fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(h.coords.latitude,"&lon=").concat(h.coords.longitude,"&format=json&addressdetails=[0|1]")).then((function(e){return e.json()})).then((function(e){b(e.address.city)}))}),[h.coords]),c.a.useEffect((function(){fetch("".concat("https://api.openweathermap.org/data/2.5/","weather?q=").concat(S,"&appid=").concat("12cefab9977763ddc5f50d7e363a40f8","&lang=ru&units=metric")).then((function(e){return e.json()})).then((function(e){a(e)}))}),[S]),Object(d.jsxs)("div",{className:"main-wrapper",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)(m,{updatePositionData:function(e){j(e)},cici:u,updateCityData:function(e){b(e)},cityChange:b}),Object(d.jsx)(l,{updateDegreeIndex:function(e){g(e)},items:["C","F"]})]}),Object(d.jsx)(O,{degreeIndex:w,weatherInfo:s}),Object(d.jsx)(x,{weatherInfo:s})]})};s(12);o.a.render(Object(d.jsx)(S,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c1d2bf6e.chunk.js.map